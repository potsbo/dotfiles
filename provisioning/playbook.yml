- name:       development environment
  hosts:      127.0.0.1
  connection: local
  vars:
    home_path:     '{{ lookup("env", "HOME") }}'
    dotfiles_path: '{{ home_path }}/.dotfiles'
    src_path: '{{ home_path }}/src'

  environment:
    PATH: '/usr/local/bin:{{ anyenv.directory }}/bin:{{ anyenv.envs_dir }}/rbenv/shims:{{ anyenv.envs_dir }}/ndenv/shims:{{ anyenv.envs_dir }}/pyenv/shims:{{ anyenv.envs_dir }}/goenv/shims:{{ lookup("env", "PATH") }}'

  vars_files:
    - config.yml

  roles:
    - role: link
      tags: ['link']

    - role: anyenv
      tags: ['install', 'anyenv']

    - role: ssh
      tags: ['ssh']

    - role: homebrew
      tags: ['install', 'homebrew']

    - role: mas
      tags: ['install', 'mas']

    - role: ruby
      tags: ['language', 'ruby']

    - role: golang
      tags: ['language', 'golang']

    - role: rust
      tags: ['language', 'rust']

    - role: tmux
      tags: ['install', 'tmux']

    - role: zsh
      tags: ['install', 'zsh']

    - role: python
      tags: ['language', 'python']

    - role: nodejs
      tags: ['language', 'nodejs']

    - role: vim
      tags: ['vim']

    - role: osx
      tags: ['osx']

    - role: clone
      tags: ['clone']
