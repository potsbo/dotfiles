run "~/.config/tmux/style.tmux"
set-environment -g AQUA_GLOBAL_CONFIG "$HOME/.config/aquaproj-aqua/aqua.yaml"
set -g prefix C-w
unbind C-b # default のキーバインドを無効化
bind -n C-] run-shell "~/.config/tmux/sesh-connect.sh"
bind r source-file ~/.config/tmux/tmux.conf \; display "Reloaded!"

# nvim の clipboard を OSC52 経由で ssh もとに渡すため
set -s set-clipboard on

# https://stackoverflow.com/questions/51639540/tmux-scroll-mode-vim-keybindings
set-window-option -g mode-keys vi
set -g mouse on
bind-key -T copy-mode-vi v send -X begin-selection
bind-key -T copy-mode-vi V send -X select-line
unbind -T copy-mode-vi y
bind-key -T copy-mode-vi y send -X copy-selection-and-cancel

# dvorak hjkl moves cursor in tmux
bind-key -T copy-mode-vi d send-keys -X cursor-left
bind-key -T copy-mode-vi h send-keys -X cursor-down
bind-key -T copy-mode-vi t send-keys -X cursor-up
bind-key -T copy-mode-vi n send-keys -X cursor-right

# sesh session picker (prefix+s or tap status-left)
bind-key s run-shell "~/.config/tmux/sesh-connect.sh"
bind -n MouseDown1StatusLeft run-shell "~/.config/tmux/sesh-connect.sh"

# fzf window picker (prefix+w)
bind-key w run-shell "~/.config/tmux/window-select.sh"

# tmux plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'alexwforsythe/tmux-which-key'

# Initialize tpm (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
