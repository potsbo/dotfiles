start-at-login = true

after-startup-command = [
  'exec-and-forget borders active_color=0xccd7875f inactive_color=0x00000000 width=16.0 style=round',
]

# Disable tiling normalizations — not needed in floating-only mode
enable-normalization-flatten-containers = false
enable-normalization-opposite-orientation-for-nested-containers = false

# Follow focus across monitors
on-focused-monitor-changed = ['move-mouse monitor-lazy-center']

[mode.main.binding]
    alt-h = 'focus left'
    alt-j = 'focus down'
    alt-k = 'focus up'
    alt-l = 'focus right'

    alt-1 = 'workspace 1'
    alt-2 = 'workspace 2'
    alt-3 = 'workspace 3'
    alt-4 = 'workspace 4'

    alt-shift-1 = 'move-node-to-workspace 1'
    alt-shift-2 = 'move-node-to-workspace 2'
    alt-shift-3 = 'move-node-to-workspace 3'
    alt-shift-4 = 'move-node-to-workspace 4'

    alt-tab = 'workspace-back-and-forth'

# Ghostty → workspace 1
[[on-window-detected]]
if.app-id = 'com.mitchellh.ghostty'
check-further-callbacks = true
run = ['move-node-to-workspace 1']

# Slack → workspace 2
[[on-window-detected]]
if.app-id = 'com.tinyspeck.slackmacgap'
check-further-callbacks = true
run = ['move-node-to-workspace 2']

# Notion Calendar → workspace 2
[[on-window-detected]]
if.app-id = 'com.cron.electron'
check-further-callbacks = true
run = ['move-node-to-workspace 2']

# Everything else → workspace 3, then float
[[on-window-detected]]
run = ['move-node-to-workspace 3', 'layout floating']
